# 第三阶段：集成 DeepSeek 到 Manus 的模型层 - 任务记录

**阶段目标**: 让 OpenManus 的思考引擎支持多模型切换，在复杂任务中调用 DeepSeek-R1 进行深度思考。  
**计划时间**: 待开始  
**状态**: ⏳ 计划中

---

## 📋 任务概览

| 任务 | 描述 | 状态 |
|------|------|------|
| Step 3 | 集成 DeepSeek 模型到 Manus 的模型层 | ⏳ 计划中 |

---

## Step 3: 集成 DeepSeek 到 Manus 的模型层

### 📌 任务描述

逻辑：利用 OpenManus 的 LLM 模块。

指令：参考 `app/llm/llm.py`，创建一个 `DeepSeekLLM` 类。在 `ProjectHunterAgent` 的 `_step_evaluate_opportunities` 方法中，添加一个条件判断：当评估职位时，指向 DeepSeek-R1。确保在执行 Opportunity Analysis 这个特定任务时，它能调用 R1 进行深度思考，而在执行简单的网页跳转时调用更快的模型。

验证：在日志中查看 Token 消耗和调用链路，确认 DeepSeek 成功驱动了 Manus 的思考过程。

### 📋 子任务清单

- [ ] 分析 OpenManus 的 LLM 模块结构
- [ ] 创建 DeepSeekLLM 类
- [ ] 实现模型选择策略
- [ ] 集成到 ProjectHunterAgent
- [ ] 添加 Token 消耗跟踪
- [ ] 验证模型调用链路
- [ ] 性能优化和成本控制

### 🎯 预期成果

1. ✅ Manus 支持多模型切换
2. ✅ 复杂任务自动调用 DeepSeek-R1
3. ✅ 简单任务使用快速模型
4. ✅ 完整的 Token 消耗日志
5. ✅ 模型调用链路可追踪

### 📚 相关文件

- `app/llm/llm.py` - LLM 模块
- `app/agent/project_hunter.py` - ProjectHunterAgent
- `app/llm/deepseek.py` - 待创建

---

**计划开始时间**: 待定  
**状态**: ⏳ 计划中
